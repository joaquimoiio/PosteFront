<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Gerenciador de Vendas de Postes</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1>‚ö° Gerenciador de Vendas de Postes</h1>
            <p>Relat√≥rio - Vis√£o Geral</p>
        </div>
    </header>

    <!-- Navigation Menu -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-item active">
                <span class="nav-icon">üìä</span>
                <span class="nav-text">Relat√≥rio</span>
            </a>
            <a href="vendas.html" class="nav-item">
                <span class="nav-icon">üìã</span>
                <span class="nav-text">Vendas</span>
            </a>
            <a href="despesas.html" class="nav-item">
                <span class="nav-icon">üí∏</span>
                <span class="nav-text">Despesas</span>
            </a>
            <a href="postes.html" class="nav-item">
                <span class="nav-icon">‚ö°</span>
                <span class="nav-text">Postes</span>
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="dashboard-page">
            <!-- Se√ß√£o de Estat√≠sticas por Tipo de Venda -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h3>üìä Vendas por Tipo</h3>
                </div>
                
                <div class="cards-grid">
                    <div class="metric-card">
                        <div class="card-content">
                            <h4>üìà Vendas Extras (E)</h4>
                            <div class="metric-value" id="vendas-tipo-e">0</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="card-content">
                            <h4>üõí Vendas Normais (V)</h4>
                            <div class="metric-value" id="vendas-tipo-v">0</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="card-content">
                            <h4>üè™ Vendas Loja (L)</h4>
                            <div class="metric-value" id="vendas-tipo-l">0</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="card-content">
                            <h4>üìã Total de Vendas</h4>
                            <div class="metric-value" id="total-vendas">0</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Valores por Tipo -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h3>üí∞ Valores por Tipo</h3>
                </div>
                
                <div class="cards-grid">
                    <div class="metric-card">
                        <div class="card-content">
                            <h4>Valores Extras (E)</h4>
                            <div class="metric-value" id="total-extras-e">R$ 0,00</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="card-content">
                            <h4>Frete Loja (L)</h4>
                            <div class="metric-value" id="total-frete-loja">R$ 0,00</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Resumo Financeiro -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h3>üí∞ Resumo Financeiro</h3>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-secondary btn-small" onclick="mostrarDetalhesCalculo()">
                            üìã Ver Detalhes
                        </button>
                        <button class="btn btn-secondary btn-small" onclick="refreshDashboard()">
                            üîÑ Atualizar
                        </button>
                    </div>
                </div>
                
                <div class="cards-grid">
                    <div class="metric-card">
                        <div class="card-content">
                            <h4>Total Custo Postes (V)</h4>
                            <div class="metric-value" id="total-venda-postes">R$ 0,00</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="card-content">
                            <h4>Total Arrecadado (V)</h4>
                            <div class="metric-value" id="valor-total-vendas">R$ 0,00</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="card-content">
                            <h4>Contribui√ß√µes E + L</h4>
                            <div class="metric-value" id="total-contribuicoes-extras">R$ 0,00</div>
                        </div>
                    </div>

                    <div class="metric-card expense-card">
                        <div class="card-content">
                            <h4>Total Despesas</h4>
                            <div class="metric-value" id="total-despesas">R$ 0,00</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Distribui√ß√£o de Lucros -->
            <section class="dashboard-section profit-section">
                <div class="section-header">
                    <h3>üíé Distribui√ß√£o de Lucros</h3>
                    <small style="color: #64748b;">C√°lculo: (Lucro V + E + Frete L - Outras Despesas) √∑ 2 - Desp. Funcion√°rio s√≥ para G&J</small>
                </div>

                <div class="cards-grid">
                    <div class="profit-card total-profit">
                        <div class="card-content">
                            <h4>Lucro Total</h4>
                            <div class="metric-value" id="lucro-total">R$ 0,00</div>
                        </div>
                    </div>

                    <div class="profit-card">
                        <div class="card-content">
                            <h4>Parte do C√≠cero (50%)</h4>
                            <div class="metric-value" id="parte-cicero">R$ 0,00</div>
                        </div>
                    </div>

                    <div class="profit-card">
                        <div class="card-content">
                            <h4>Parte do Gilberto (25%)</h4>
                            <div class="metric-value" id="parte-gilberto">R$ 0,00</div>
                        </div>
                    </div>

                    <div class="profit-card">
                        <div class="card-content">
                            <h4>Parte do Jefferson (25%)</h4>
                            <div class="metric-value" id="parte-jefferson">R$ 0,00</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Se√ß√£o de Estat√≠sticas Gerais -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h3>üìà Estat√≠sticas Gerais</h3>
                </div>

                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="total-postes">0</div>
                        <div class="stat-label">Postes Ativos</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="total-despesas-count">0</div>
                        <div class="stat-label">Total Despesas</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="ticket-medio">R$ 0,00</div>
                        <div class="stat-label">Ticket M√©dio (V)</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="margem-lucro">0%</div>
                        <div class="stat-label">Margem de Lucro</div>
                    </div>
                </div>
            </section>

            <!-- Explica√ß√£o dos Tipos de Venda -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h3>‚ÑπÔ∏è Tipos de Venda</h3>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px; margin-top: 16px;">
                    <div style="background: white; padding: 16px; border-radius: 6px; border-left: 3px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-bottom: 8px;">üìà Tipo E - Extra</h4>
                        <p style="font-size: 0.9rem; color: #6b7280;">Valores extras que contribuem diretamente para o lucro. Apenas data e valor extra s√£o necess√°rios.</p>
                    </div>
                    
                    <div style="background: white; padding: 16px; border-radius: 6px; border-left: 3px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-bottom: 8px;">üõí Tipo V - Venda Normal</h4>
                        <p style="font-size: 0.9rem; color: #6b7280;">Vendas normais com postes. O valor do poste √© fixo e usado no c√°lculo do lucro. SEM frete Eletrons.</p>
                    </div>
                    
                    <div style="background: white; padding: 16px; border-radius: 6px; border-left: 3px solid #059669;">
                        <h4 style="color: #059669; margin-bottom: 8px;">üè™ Tipo L - Venda Loja</h4>
                        <p style="font-size: 0.9rem; color: #6b7280;">Vendas de loja onde apenas o frete contribui para o lucro. Poste √© apenas refer√™ncia, SEM valor de venda.</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="spinner"></div>
        <p>Carregando...</p>
    </div>

    <!-- Alert Container -->
    <div id="alert-container" class="alert-container"></div>

    <script src="js/index.js"></script>
</body>
</html>