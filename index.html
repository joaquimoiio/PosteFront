<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Dashboard do Sistema de Gerenciamento de Vendas de Postes - RelatÃ³rios e AnÃ¡lises">
    <title>Dashboard - Gerenciador de Vendas de Postes</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>

<body>
    <!-- Header Principal -->
    <header class="header" role="banner">
        <div class="header-content">
            <h1>âš¡ Gerenciador de Vendas de Postes</h1>
            <p>Dashboard - VisÃ£o Geral do NegÃ³cio</p>
        </div>
    </header>

    <!-- NavegaÃ§Ã£o Principal -->
    <nav class="main-nav" role="navigation" aria-label="NavegaÃ§Ã£o principal">
        <div class="nav-container">
            <a href="index.html" class="nav-item active" aria-current="page">
                <span class="nav-icon" aria-hidden="true">ğŸ“Š</span>
                <span class="nav-text">Dashboard</span>
            </a>
            <a href="vendas.html" class="nav-item">
                <span class="nav-icon" aria-hidden="true">ğŸ“‹</span>
                <span class="nav-text">Vendas</span>
            </a>
            <a href="despesas.html" class="nav-item">
                <span class="nav-icon" aria-hidden="true">ğŸ’¸</span>
                <span class="nav-text">Despesas</span>
            </a>
            <a href="postes.html" class="nav-item">
                <span class="nav-icon" aria-hidden="true">âš¡</span>
                <span class="nav-text">Postes</span>
            </a>
        </div>
    </nav>

    <!-- ConteÃºdo Principal -->
    <main class="main-content" role="main">
        <div class="dashboard-page">

            <!-- SeÃ§Ã£o de Filtros de PerÃ­odo -->
            <section class="dashboard-section filter-section" aria-labelledby="filtros-titulo">
                <header class="section-header">
                    <h2 id="filtros-titulo">ğŸ“… PerÃ­odo de AnÃ¡lise</h2>
                    <div class="section-actions">
                        <button type="button" class="btn btn-secondary btn-small" onclick="setPresetPeriod('today')"
                            aria-label="Filtrar dados de hoje">
                            ğŸ“… Hoje
                        </button>
                        <button type="button" class="btn btn-secondary btn-small" onclick="setPresetPeriod('week')"
                            aria-label="Filtrar dados desta semana">
                            ğŸ“… Esta Semana
                        </button>
                        <button type="button" class="btn btn-secondary btn-small" onclick="setPresetPeriod('month')"
                            aria-label="Filtrar dados deste mÃªs">
                            ğŸ“… Este MÃªs
                        </button>
                        <button type="button" class="btn btn-secondary btn-small" onclick="setPresetPeriod('all')"
                            aria-label="Ver todos os dados">
                            ğŸ“… Todos
                        </button>
                    </div>
                </header>

                <div class="filter-container" role="search" aria-label="Filtros de perÃ­odo">
                    <div class="filter-grid">
                        <div class="filter-group">
                            <label for="filtro-data-inicio" class="filter-label">ğŸ“… Data InÃ­cio</label>
                            <input 
                                type="date" 
                                id="filtro-data-inicio" 
                                class="filter-input"
                                lang="pt-BR"
                                aria-describedby="data-inicio-help"
                            >
                            <small id="data-inicio-help" class="filter-help">
                                Data inicial do perÃ­odo de anÃ¡lise
                            </small>
                        </div>

                        <div class="filter-group">
                            <label for="filtro-data-fim" class="filter-label">ğŸ“… Data Fim</label>
                            <input 
                                type="date" 
                                id="filtro-data-fim" 
                                class="filter-input"
                                lang="pt-BR"
                                aria-describedby="data-fim-help"
                            >
                            <small id="data-fim-help" class="filter-help">
                                Data final do perÃ­odo de anÃ¡lise
                            </small>
                        </div>

                        <div class="filter-group filter-actions">
                            <button 
                                type="button" 
                                class="btn btn-primary" 
                                onclick="applyPeriodFilter()"
                                aria-label="Aplicar filtros de perÃ­odo"
                            >
                                <span class="btn-icon" aria-hidden="true">ğŸ”</span>
                                Aplicar Filtro
                            </button>
                            <button 
                                type="button" 
                                class="btn btn-secondary" 
                                onclick="clearPeriodFilter()"
                                aria-label="Limpar filtros aplicados"
                            >
                                <span class="btn-icon" aria-hidden="true">ğŸ§¹</span>
                                Limpar
                            </button>
                        </div>
                    </div>

                    <!-- Indicador do perÃ­odo atual -->
                    <div class="period-indicator" id="period-indicator">
                        <span class="period-text">ğŸ“Š PerÃ­odo atual: <strong id="current-period-text">Todos os dados</strong></span>
                    </div>
                </div>
            </section>

            <!-- SeÃ§Ã£o: Vendas por Tipo -->
            <section class="dashboard-section" aria-labelledby="vendas-titulo">
                <header class="section-header">
                    <h2 id="vendas-titulo">ğŸ“Š Vendas por Tipo</h2>
                </header>

                <div class="cards-grid" role="group" aria-label="EstatÃ­sticas de vendas">
                    <article class="metric-card" aria-labelledby="vendas-e-label">
                        <div class="card-content">
                            <h3 id="vendas-e-label">ğŸ“ˆ Vendas Extras (E)</h3>
                            <div class="metric-value" id="vendas-tipo-e" aria-live="polite">0</div>
                        </div>
                    </article>

                    <article class="metric-card" aria-labelledby="vendas-v-label">
                        <div class="card-content">
                            <h3 id="vendas-v-label">ğŸ›’ Vendas Normais (V)</h3>
                            <div class="metric-value" id="vendas-tipo-v" aria-live="polite">0</div>
                        </div>
                    </article>

                    <article class="metric-card" aria-labelledby="vendas-l-label">
                        <div class="card-content">
                            <h3 id="vendas-l-label">ğŸª Vendas Loja (L)</h3>
                            <div class="metric-value" id="vendas-tipo-l" aria-live="polite">0</div>
                        </div>
                    </article>

                    <article class="metric-card highlight" aria-labelledby="vendas-total-label">
                        <div class="card-content">
                            <h3 id="vendas-total-label">ğŸ“‹ Total de Vendas</h3>
                            <div class="metric-value" id="total-vendas" aria-live="polite">0</div>
                        </div>
                    </article>
                </div>
            </section>

            <!-- SeÃ§Ã£o: Valores por Tipo -->
            <section class="dashboard-section" aria-labelledby="valores-titulo">
                <header class="section-header">
                    <h2 id="valores-titulo">ğŸ’° Valores por Categoria</h2>
                </header>

                <div class="cards-grid cards-grid--two-cols" role="group" aria-label="Valores por categoria">
                    <article class="metric-card warning" aria-labelledby="valores-e-label">
                        <div class="card-content">
                            <h3 id="valores-e-label">ğŸ’ Valores Extras (E)</h3>
                            <div class="metric-value" id="total-extras-e" aria-live="polite">R$ 0,00</div>
                        </div>
                    </article>

                    <article class="metric-card success" aria-labelledby="frete-l-label">
                        <div class="card-content">
                            <h3 id="frete-l-label">ğŸšš Frete Loja (L)</h3>
                            <div class="metric-value" id="total-frete-loja" aria-live="polite">R$ 0,00</div>
                        </div>
                    </article>

                </div>
            </section>

            <!-- SeÃ§Ã£o: Resumo Financeiro -->
            <section class="dashboard-section" aria-labelledby="financeiro-titulo">
                <header class="section-header">
                    <h2 id="financeiro-titulo">ğŸ’° Resumo Financeiro</h2>
                    <div class="section-actions">
                        <button type="button" class="btn btn-secondary btn-small" onclick="mostrarDetalhesCalculo()"
                            aria-label="Ver detalhes do cÃ¡lculo de lucros">
                            ğŸ“‹ Ver Detalhes
                        </button>
                        <button type="button" class="btn btn-secondary btn-small" onclick="refreshDashboard()"
                            aria-label="Atualizar dados do dashboard">
                            ğŸ”„ Atualizar
                        </button>
                    </div>
                </header>

                <div class="cards-grid" role="group" aria-label="Resumo financeiro">
                    <article class="metric-card success" aria-labelledby="arrecadado-label">
                        <div class="card-content">
                            <h3 id="arrecadado-label">ğŸ’µ Total Arrecadado (V)</h3>
                            <div class="metric-value" id="valor-total-vendas" aria-live="polite">R$ 0,00</div>
                        </div>
                    </article>

                    <article class="metric-card info" aria-labelledby="custo-postes-label">
                        <div class="card-content">
                            <h3 id="custo-postes-label">ğŸ“¦ Custo Total Postes (V)</h3>
                            <div class="metric-value" id="total-venda-postes" aria-live="polite">R$ 0,00</div>
                        </div>
                    </article>

                    <article class="metric-card warning" aria-labelledby="contribuicoes-label">
                        <div class="card-content">
                            <h3 id="contribuicoes-label">ğŸ¯ ContribuiÃ§Ãµes E + L</h3>
                            <div class="metric-value" id="total-contribuicoes-extras" aria-live="polite">R$ 0,00</div>
                        </div>
                    </article>

                    <article class="metric-card danger" aria-labelledby="outras-despesas-label">
                        <div class="card-content">
                            <h3 id="outras-despesas-label">ğŸ’¸ Outras Despesas</h3>
                            <div class="metric-value" id="total-despesas" aria-live="polite">R$ 0,00</div>
                        </div>
                    </article>
                </div>
            </section>

            <!-- SeÃ§Ã£o: Detalhamento de Despesas -->
            <section class="dashboard-section expenses-section" aria-labelledby="despesas-titulo">
                <header class="section-header">
                    <h2 id="despesas-titulo">ğŸ’¸ Detalhamento de Despesas</h2>
                </header>

                <div class="cards-grid cards-grid--three-cols" role="group" aria-label="Detalhamento de despesas">
                    <article class="metric-card danger" aria-labelledby="outras-detalhado-label">
                        <div class="card-content">
                            <h3 id="outras-detalhado-label">ğŸ“‹ Outras Despesas</h3>
                            <div class="metric-value" id="total-outras-despesas-detalhado" aria-live="polite">R$ 0,00
                            </div>
                        </div>
                    </article>

                    <article class="metric-card warning" aria-labelledby="funcionario-detalhado-label">
                        <div class="card-content">
                            <h3 id="funcionario-detalhado-label">ğŸ‘¥ Despesas FuncionÃ¡rio</h3>
                            <div class="metric-value" id="total-despesas-funcionario-detalhado" aria-live="polite">R$
                                0,00</div>
                        </div>
                    </article>

                    <article class="metric-card neutral" aria-labelledby="geral-despesas-label">
                        <div class="card-content">
                            <h3 id="geral-despesas-label">ğŸ’° Total Geral</h3>
                            <div class="metric-value" id="total-geral-despesas" aria-live="polite">R$ 0,00</div>
                        </div>
                    </article>
                </div>
            </section>

            <!-- SeÃ§Ã£o: DistribuiÃ§Ã£o de Lucros -->
            <section class="dashboard-section profit-section" aria-labelledby="lucros-titulo">
                <header class="section-header">
                    <h2 id="lucros-titulo">ğŸ’ DistribuiÃ§Ã£o de Lucros</h2>
                </header>

                <div class="cards-grid" role="group" aria-label="DistribuiÃ§Ã£o de lucros">
                    <article class="profit-card total-profit" aria-labelledby="lucro-total-label">
                        <div class="card-content">
                            <h3 id="lucro-total-label">ğŸ’° Lucro Total</h3>
                            <div class="metric-value" id="lucro-total" aria-live="polite">R$ 0,00</div>
                            <small class="card-note">Base para distribuiÃ§Ã£o</small>
                        </div>
                    </article>

                    <article class="profit-card cicero" aria-labelledby="cicero-label">
                        <div class="card-content">
                            <h3 id="cicero-label">ğŸ‘¨ Parte do CÃ­cero</h3>
                            <div class="metric-value" id="parte-cicero" aria-live="polite">R$ 0,00</div>
                            <small class="card-note">50% do lucro total</small>
                        </div>
                    </article>

                    <article class="profit-card gilberto" aria-labelledby="gilberto-label">
                        <div class="card-content">
                            <h3 id="gilberto-label">ğŸ‘¨ Parte do Gilberto</h3>
                            <div class="metric-value" id="parte-gilberto" aria-live="polite">R$ 0,00</div>
                            <small class="card-note">25% menos funcionÃ¡rio</small>
                        </div>
                    </article>

                    <article class="profit-card jefferson" aria-labelledby="jefferson-label">
                        <div class="card-content">
                            <h3 id="jefferson-label">ğŸ‘¨ Parte do Jefferson</h3>
                            <div class="metric-value" id="parte-jefferson" aria-live="polite">R$ 0,00</div>
                            <small class="card-note">25% menos funcionÃ¡rio</small>
                        </div>
                    </article>
                </div>
            </section>

            <!-- SeÃ§Ã£o: EstatÃ­sticas Gerais -->
            <section class="dashboard-section" aria-labelledby="estatisticas-titulo">
                <header class="section-header">
                    <h2 id="estatisticas-titulo">ğŸ“ˆ EstatÃ­sticas Gerais</h2>
                    <p class="section-description">Indicadores de performance do negÃ³cio</p>
                </header>

                <div class="stats-grid" role="group" aria-label="EstatÃ­sticas gerais">
                    <article class="stat-item" aria-labelledby="postes-stat">
                        <div class="stat-number" id="total-postes" aria-live="polite">0</div>
                        <div class="stat-label" id="postes-stat">Postes Ativos</div>
                    </article>

                    <article class="stat-item" aria-labelledby="despesas-stat">
                        <div class="stat-number" id="total-despesas-count" aria-live="polite">0</div>
                        <div class="stat-label" id="despesas-stat">Total Despesas</div>
                    </article>

                    <article class="stat-item" aria-labelledby="ticket-stat">
                        <div class="stat-number" id="ticket-medio" aria-live="polite">R$ 0,00</div>
                        <div class="stat-label" id="ticket-stat">Ticket MÃ©dio (V)</div>
                    </article>

                    <article class="stat-item" aria-labelledby="margem-stat">
                        <div class="stat-number" id="margem-lucro" aria-live="polite">0%</div>
                        <div class="stat-label" id="margem-stat">Margem de Lucro</div>
                    </article>
                </div>
            </section>

        </div>
    </main>

    <!-- Overlay de Carregamento -->
    <div id="loading-overlay" class="loading-overlay" role="status" aria-live="polite" aria-hidden="true">
        <div class="spinner" aria-hidden="true"></div>
        <p>Carregando dados...</p>
    </div>

    <!-- Container de Alertas -->
    <div id="alert-container" class="alert-container" role="alert" aria-live="assertive" aria-atomic="true"></div>

    <!-- Scripts -->
    <script src="js/index.js"></script>
</body>

</html>